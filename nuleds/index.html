<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <style>
    body {
      text-align: center;
    }

    button {
      display: block;
      width: 100%;
      padding: 1rem;
      margin-top: 1rem;
    }

  </style>
</head>

<body>
  <button id="scan">Scan For BTLE Device</button>
  <button class="btn" id="bt1" value="(EE_6BC,32,PB1SC)\r\n">Button One</button>
  <button class="btn" id="bt2" value="(EE_6BC,32,PB2SC)\r\n">Button Two</button>
  <button class="btn" id="bt2" value="(EE_6BC,32,PB3SC)\r\n">Button Three</button>
  <button class="btn" id="bt2" value="(EE_6BC,32,PB4SC)\r\n">Button Four</button>
  <button class="btn" id="bt2" value="(EE_6BC,32,PB5SC)\r\n">Button Five</button>
  <button class="btn" id="bt2" value="(EE_6BC,32,PB6SC)\r\n">Button Six</button>
</body>

<script>
  let btDevice = null
  const serviceUID = "49535343-FE7D-4AE5-8FA9-9FAFD205E455"
  const characteristicUID = "49535343-1E4D-4BD9-BA61-23C647249616"
  const scanButton = document.getElementById('scan')

  scanButton.addEventListener('click', async e => {
    const device = await navigator.bluetooth.requestDevice({
      acceptAllDevices: true
    })
    const server = await device.gatt.connect()
    console.log(device)
    console.log(server)
    console.log(`BluetoothDevice.id ${device.id}`)
    console.log(`BluetoothDevice.name ${device.name}`)
    console.log(`BluetoothDevice.gatt ${device.gatt}`)
    console.log(`BluetoothDevice.uuids ${device.uuids}`)
    if (server.connected) alert(`${device.name} Connected`)
    // const service = await server.getPrimaryService('heart_rate')
    // const handleBodySensorLocationCharacteristic = await service.getCharacteristic('body_sensor_location')
    // const handleHeartRateMeasurementCharacteristic = await service.getCharacteristic('heart_rate_measurement')
  })

  const buttons = Array.from(document.getElementsByClassName('btn'))

  buttons.forEach(b => {
    b.addEventListener('click', async e => {
      const value = e.target.value
      console.log(`BUTTON CLICK ${value}`)
    })
  })

</script>

</html>
